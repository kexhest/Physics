!function(Q,B){"object"==typeof exports&&"object"==typeof module?module.exports=B():"function"==typeof define&&define.amd?define([],B):"object"==typeof exports?exports.Physics=B():Q.Physics=B()}(this,function(){return function(Q){function B(U){if(F[U])return F[U].exports;var s=F[U]={exports:{},id:U,loaded:!1};return Q[U].call(s.exports,s,s.exports,B),s.loaded=!0,s.exports}var F={};return B.m=Q,B.c=F,B.p="",B(0)}([function(Q,B,F){Q.exports=F(7)},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _math = __webpack_require__(2);\n\nvar m = _interopRequireWildcard(_math);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @author mr.doob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author jonobr1 / http://jonobr1.com/\n */\n\n/**\n * A two dimensional vector.\n */\n\nvar Vector = (function () {\n  function Vector() {\n    var x = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n    _classCallCheck(this, Vector);\n\n    var y = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(Vector, [{\n    key: 'set',\n    value: function set(x, y) {\n      this.x = x || 0;\n      this.y = y || 0;\n\n      return this;\n    }\n  }, {\n    key: 'copy',\n    value: function copy(v) {\n      this.x = v.x;\n      this.y = v.y;\n\n      return this;\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.x = 0;\n      this.y = 0;\n\n      return this;\n    }\n  }, {\n    key: 'clone',\n    value: function clone() {\n      return new Vector(this.x, this.y);\n    }\n  }, {\n    key: 'add',\n    value: function add(v1, v2) {\n      this.x = v1.x + v2.x;\n      this.y = v1.y + v2.y;\n\n      return this;\n    }\n  }, {\n    key: 'addSelf',\n    value: function addSelf(v) {\n      this.x += v.x;\n      this.y += v.y;\n\n      return this;\n    }\n  }, {\n    key: 'sub',\n    value: function sub(v1, v2) {\n      this.x = v1.x - v2.x;\n      this.y = v1.y - v2.y;\n\n      return this;\n    }\n  }, {\n    key: 'subSelf',\n    value: function subSelf(v) {\n      this.x -= v.x;\n      this.y -= v.y;\n\n      return this;\n    }\n  }, {\n    key: 'multiplySelf',\n    value: function multiplySelf(v) {\n      this.x *= v.x;\n      this.y *= v.y;\n\n      return this;\n    }\n  }, {\n    key: 'multiplyScalar',\n    value: function multiplyScalar(s) {\n      this.x *= s;\n      this.y *= s;\n\n      return this;\n    }\n  }, {\n    key: 'divideScalar',\n    value: function divideScalar(s) {\n      if (s) {\n        this.x /= s;\n        this.y /= s;\n      } else {\n        this.set(0, 0);\n      }\n\n      return this;\n    }\n  }, {\n    key: 'negate',\n    value: function negate() {\n      return this.multiplyScalar(-1);\n    }\n  }, {\n    key: 'dot',\n    value: function dot(v) {\n      return this.x * v.x + this.y * v.y;\n    }\n  }, {\n    key: 'lengthSquared',\n    value: function lengthSquared() {\n      return this.x * this.x + this.y * this.y;\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return m.sqrt(this.lengthSquared());\n    }\n  }, {\n    key: 'normalize',\n    value: function normalize() {\n      return this.divideScalar(this.length());\n    }\n  }, {\n    key: 'distanceTo',\n    value: function distanceTo(v) {\n      return m.sqrt(this.distanceToSquared(v));\n    }\n  }, {\n    key: 'distanceToSquared',\n    value: function distanceToSquared(v) {\n      var dx = this.x - v.x;\n      var dy = this.y - v.y;\n\n      return dx * dx + dy * dy;\n    }\n  }, {\n    key: 'setLength',\n    value: function setLength(l) {\n      return this.normalize().multiplyScalar(l);\n    }\n  }, {\n    key: 'equals',\n    value: function equals(v) {\n      return this.distanceTo(v) < 0.0001; // almost same position\n    }\n  }, {\n    key: 'lerp',\n    value: function lerp(v, t) {\n      var x = (v.x - this.x) * t + this.x;\n      var y = (v.y - this.y) * t + this.y;\n\n      return this.set(x, y);\n    }\n  }, {\n    key: 'isZero',\n    value: function isZero() {\n      return this.length() < 0.0001; // almost zero\n    }\n  }]);\n\n  return Vector;\n})();\n\nexports.default = Vector;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVmVjdG9yLmpzPzkyYTgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztJQUFZLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQWFRLE1BQU07QUFFekIsV0FGbUIsTUFBTSxHQUVFO1FBQWQsQ0FBQyx5REFBRyxDQUFDOzswQkFGQyxNQUFNOztRQUVMLENBQUMseURBQUcsQ0FBQzs7QUFDdkIsUUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQ1YsUUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDO0dBQ1g7O2VBTGtCLE1BQU07O3dCQU9wQixDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ1QsVUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQztBQUNmLFVBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7O0FBRWYsYUFBTyxJQUFJO0tBQ1o7Ozt5QkFFSyxDQUFDLEVBQUU7QUFDUCxVQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ1osVUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFFWixhQUFPLElBQUk7S0FDWjs7OzRCQUVRO0FBQ1AsVUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQ1YsVUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDOztBQUVWLGFBQU8sSUFBSTtLQUNaOzs7NEJBRVE7QUFDUCxhQUFPLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUNsQzs7O3dCQUVJLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDWCxVQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7QUFDcEIsVUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDOztBQUVwQixhQUFPLElBQUk7S0FDWjs7OzRCQUVRLENBQUMsRUFBRTtBQUNWLFVBQUks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SSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7O0FBRXJDLGFBQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3RCOzs7NkJBRVM7QUFDUixhQUFRLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxNQUFNO0FBQUMsS0FDaEM7OztTQXJJa0IsTUFBTTs7O2tCQUFOLE1BQU0iLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIG0gZnJvbSAnLi91dGlscy9tYXRoJ1xuXG4vKipcbiAqIEBhdXRob3IgbXIuZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tL1xuICogQGF1dGhvciBwaGlsb2diIC8gaHR0cDovL2Jsb2cudGhlaml0Lm9yZy9cbiAqIEBhdXRob3IgZWdyYWV0aGVyIC8gaHR0cDovL2VncmFldGhlci5jb20vXG4gKiBAYXV0aG9yIHp6ODUgLyBodHRwOi8vd3d3LmxhYjRnYW1lcy5uZXQveno4NS9ibG9nXG4gKiBAYXV0aG9yIGpvbm9icjEgLyBodHRwOi8vam9ub2JyMS5jb20vXG4gKi9cblxuLyoqXG4gKiBBIHR3byBkaW1lbnNpb25hbCB2ZWN0b3IuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlY3RvciB7XG5cbiAgY29uc3RydWN0b3IgKHggPSAwLCB5ID0gMCkge1xuICAgIHRoaXMueCA9IHhcbiAgICB0aGlzLnkgPSB5XG4gIH1cblxuICBzZXQgKHgsIHkpIHtcbiAgICB0aGlzLnggPSB4IHx8IDBcbiAgICB0aGlzLnkgPSB5IHx8IDBcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBjb3B5ICh2KSB7XG4gICAgdGhpcy54ID0gdi54XG4gICAgdGhpcy55ID0gdi55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgY2xlYXIgKCkge1xuICAgIHRoaXMueCA9IDBcbiAgICB0aGlzLnkgPSAwXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgY2xvbmUgKCkge1xuICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCwgdGhpcy55KVxuICB9XG5cbiAgYWRkICh2MSwgdjIpIHtcbiAgICB0aGlzLnggPSB2MS54ICsgdjIueFxuICAgIHRoaXMueSA9IHYxLnkgKyB2Mi55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgYWRkU2VsZiAodikge1xuICAgIHRoaXMueCArPSB2LnhcbiAgICB0aGlzLnkgKz0gdi55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3ViICh2MSwgdjIpIHtcbiAgICB0aGlzLnggPSB2MS54IC0gdjIueFxuICAgIHRoaXMueSA9IHYxLnkgLSB2Mi55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3ViU2VsZiAodikge1xuICAgIHRoaXMueCAtPSB2LnhcbiAgICB0aGlzLnkgLT0gdi55XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgbXVsdGlwbHlTZWxmICh2KSB7XG4gICAgdGhpcy54ICo9IHYueFxuICAgIHRoaXMueSAqPSB2LnlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBtdWx0aXBseVNjYWxhciAocykge1xuICAgIHRoaXMueCAqPSBzXG4gICAgdGhpcy55ICo9IHNcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBkaXZpZGVTY2FsYXIgKHMpIHtcbiAgICBpZiAocykge1xuICAgICAgdGhpcy54IC89IHNcbiAgICAgIHRoaXMueSAvPSBzXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0KDAsIDApXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIG5lZ2F0ZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMubXVsdGlwbHlTY2FsYXIoLTEpXG4gIH1cblxuICBkb3QgKHYpIHtcbiAgICByZXR1cm4gdGhpcy54ICogdi54ICsgdGhpcy55ICogdi55XG4gIH1cblxuICBsZW5ndGhTcXVhcmVkICgpIHtcbiAgICByZXR1cm4gdGhpcy54ICogdGhpcy54ICsgdGhpcy55ICogdGhpcy55XG4gIH1cblxuICBsZW5ndGggKCkge1xuICAgIHJldHVybiBtLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpXG4gIH1cblxuICBub3JtYWxpemUgKCkge1xuICAgIHJldHVybiB0aGlzLmRpdmlkZVNjYWxhcih0aGlzLmxlbmd0aCgpKVxuICB9XG5cbiAgZGlzdGFuY2VUbyAodikge1xuICAgIHJldHVybiBtLnNxcnQodGhpcy5kaXN0YW5jZVRvU3F1YXJlZCh2KSlcbiAgfVxuXG4gIGRpc3RhbmNlVG9TcXVhcmVkICh2KSB7XG4gICAgY29uc3QgZHggPSB0aGlzLnggLSB2LnhcbiAgICBjb25zdCBkeSA9IHRoaXMueSAtIHYueVxuXG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5XG4gIH1cblxuICBzZXRMZW5ndGggKGwpIHtcbiAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKS5tdWx0aXBseVNjYWxhcihsKVxuICB9XG5cbiAgZXF1YWxzICh2KSB7XG4gICAgcmV0dXJuICh0aGlzLmRpc3RhbmNlVG8odikgPCAwLjAwMDEpIC8vIGFsbW9zdCBzYW1lIHBvc2l0aW9uXG4gIH1cblxuICBsZXJwICh2LCB0KSB7XG4gICAgY29uc3QgeCA9ICh2LnggLSB0aGlzLngpICogdCArIHRoaXMueFxuICAgIGNvbnN0IHkgPSAodi55IC0gdGhpcy55KSAqIHQgKyB0aGlzLnlcblxuICAgIHJldHVybiB0aGlzLnNldCh4LCB5KVxuICB9XG5cbiAgaXNaZXJvICgpIHtcbiAgICByZXR1cm4gKHRoaXMubGVuZ3RoKCkgPCAwLjAwMDEpIC8vIGFsbW9zdCB6ZXJvXG4gIH1cblxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvVmVjdG9yLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n/**\n * Cache math functions.\n */\nvar max = exports.max = Math.max;\nvar sqrt = exports.sqrt = Math.sqrt;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvbWF0aC5qcz81NmY0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBR08sSUFBTSxHQUFHLFdBQUgsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHO0FBQ3BCLElBQU0sSUFBSSxXQUFKLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDYWNoZSBtYXRoIGZ1bmN0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1heCA9IE1hdGgubWF4XG5leHBvcnQgY29uc3Qgc3FydCA9IE1hdGguc3FydFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdXRpbHMvbWF0aC5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=')},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Vector = __webpack_require__(1);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _math = __webpack_require__(2);\n\nvar m = _interopRequireWildcard(_math);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Attraction = (function () {\n  function Attraction(a, b, k, d) {\n    _classCallCheck(this, Attraction);\n\n    this.a = a;\n    this.b = b;\n    this.constant = k;\n    this.on = true;\n    this.distanceMin = d;\n    this.distanceMinSquared = d * d;\n  }\n\n  _createClass(Attraction, [{\n    key: 'update',\n    value: function update() {\n      var a = this.a;\n      var b = this.b;\n\n      if (!this.on || a.fixed && b.fixed) {\n        return;\n      }\n\n      var a2b = new _Vector2.default().sub(a.position, b.position);\n\n      var a2bdistanceSquared = m.max(a2b.lengthSquared(), this.distanceMinSquared);\n\n      var force = this.constant * a.mass * b.mass / a2bdistanceSquared;\n\n      var length = m.sqrt(a2bdistanceSquared);\n\n      if (force === 0 || length === 0) {\n        a2b.clear();\n      } else {\n        a2b.divideScalar(length).multiplyScalar(force);\n      }\n\n      if (!a.fixed) {\n        a.force.subSelf(a2b);\n      }\n      if (!b.fixed) {\n        b.force.addSelf(a2b);\n      }\n\n      return this;\n    }\n\n    /**\n     * Returns a boolean describing whether the spring is resting or not.\n     * Convenient for knowing whether or not the spring needs another update\n     * tick.\n     */\n\n  }, {\n    key: 'resting',\n    value: function resting() {\n      var a = this.a;\n      var b = this.b;\n      var l = this.distanceMin;\n\n      return !this.on || a.fixed && b.fixed || a.fixed && b.position.distanceTo(a.position) <= l && b.resting() || b.fixed && a.position.distanceTo(b.position) <= l && a.resting();\n    }\n  }]);\n\n  return Attraction;\n})();\n\nexports.default = Attraction;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXR0cmFjdGlvbi5qcz82ZWE4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0lBQ1ksQ0FBQzs7Ozs7Ozs7SUFFUSxVQUFVO0FBRTdCLFdBRm1CLFVBQVUsQ0FFaEIsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFOzBCQUZOLFVBQVU7O0FBRzNCLFFBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNWLFFBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNWLFFBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQztBQUNqQixRQUFJLENBQUMsRUFBRSxHQUFHLElBQUk7QUFDZCxRQUFJLENBQUMsV0FBVyxHQUFHLENBQUM7QUFDcEIsUUFBSSxDQUFDLGtCQUFrQixHQUFHLENBQUMsR0FBRyxDQUFDO0dBQ2hDOztlQVRrQixVQUFVOzs2QkFXbkI7QUFDUixVQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUNoQixVQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQzs7QUFFaEIsVUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUssQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsS0FBTSxFQUFFO0FBQ3BDLGVBQU07T0FDUDs7QUFFRCxVQUFNLEdBQUcsR0FBRyxzQkFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUM7O0FBRXBELFVBQU0sa0JBQWtCLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDOztBQUU5RSxVQUFNLEtBQUssR0FBSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBSSxrQkFBa0I7O0FBRXBFLFVBQU0sTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUM7O0FBRXpDLFVBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxNQUFNLEtBQUssQ0FBQyxFQUFFO0FBQy9CLFdBQUcsQ0FBQyxLQUFLLEVBQUU7T0FDWixNQUFNO0FBQ0wsV0FBRyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDO09BQy9DOztBQUVELFVBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFO0FBQ1osU0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO09BQ3JCO0FBQ0QsVUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUU7QUFDWixTQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7T0FDckI7O0FBRUQsYUFBTyxJQUFJO0tBQ1o7Ozs7Ozs7Ozs7OEJBT1U7QUFDVCxVQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUNoQixVQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUNoQixVQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVzs7QUFFMUIsYUFBTyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUssQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsS0FBTSxJQUNwQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRyxJQUNqRSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRztLQUNyRTs7O1NBeERrQixVQUFVOzs7a0JBQVYsVUFBVSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3RvcidcbmltcG9ydCAqIGFzIG0gZnJvbSAnLi91dGlscy9tYXRoJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdHRyYWN0aW9uIHtcblxuICBjb25zdHJ1Y3RvciAoYSwgYiwgaywgZCkge1xuICAgIHRoaXMuYSA9IGFcbiAgICB0aGlzLmIgPSBiXG4gICAgdGhpcy5jb25zdGFudCA9IGtcbiAgICB0aGlzLm9uID0gdHJ1ZVxuICAgIHRoaXMuZGlzdGFuY2VNaW4gPSBkXG4gICAgdGhpcy5kaXN0YW5jZU1pblNxdWFyZWQgPSBkICogZFxuICB9XG5cbiAgdXBkYXRlICgpIHtcbiAgICBjb25zdCBhID0gdGhpcy5hXG4gICAgY29uc3QgYiA9IHRoaXMuYlxuXG4gICAgaWYgKCF0aGlzLm9uIHx8IChhLmZpeGVkICYmIGIuZml4ZWQpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCBhMmIgPSBuZXcgVmVjdG9yKCkuc3ViKGEucG9zaXRpb24sIGIucG9zaXRpb24pXG5cbiAgICBjb25zdCBhMmJkaXN0YW5jZVNxdWFyZWQgPSBtLm1heChhMmIubGVuZ3RoU3F1YXJlZCgpLCB0aGlzLmRpc3RhbmNlTWluU3F1YXJlZClcblxuICAgIGNvbnN0IGZvcmNlID0gKHRoaXMuY29uc3RhbnQgKiBhLm1hc3MgKiBiLm1hc3MpIC8gYTJiZGlzdGFuY2VTcXVhcmVkXG5cbiAgICBjb25zdCBsZW5ndGggPSBtLnNxcnQoYTJiZGlzdGFuY2VTcXVhcmVkKVxuXG4gICAgaWYgKGZvcmNlID09PSAwIHx8IGxlbmd0aCA9PT0gMCkge1xuICAgICAgYTJiLmNsZWFyKClcbiAgICB9IGVsc2Uge1xuICAgICAgYTJiLmRpdmlkZVNjYWxhcihsZW5ndGgpLm11bHRpcGx5U2NhbGFyKGZvcmNlKVxuICAgIH1cblxuICAgIGlmICghYS5maXhlZCkge1xuICAgICAgYS5mb3JjZS5zdWJTZWxmKGEyYilcbiAgICB9XG4gICAgaWYgKCFiLmZpeGVkKSB7XG4gICAgICBiLmZvcmNlLmFkZFNlbGYoYTJiKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGJvb2xlYW4gZGVzY3JpYmluZyB3aGV0aGVyIHRoZSBzcHJpbmcgaXMgcmVzdGluZyBvciBub3QuXG4gICAqIENvbnZlbmllbnQgZm9yIGtub3dpbmcgd2hldGhlciBvciBub3QgdGhlIHNwcmluZyBuZWVkcyBhbm90aGVyIHVwZGF0ZVxuICAgKiB0aWNrLlxuICAgKi9cbiAgcmVzdGluZyAoKSB7XG4gICAgY29uc3QgYSA9IHRoaXMuYVxuICAgIGNvbnN0IGIgPSB0aGlzLmJcbiAgICBjb25zdCBsID0gdGhpcy5kaXN0YW5jZU1pblxuXG4gICAgcmV0dXJuICF0aGlzLm9uIHx8IChhLmZpeGVkICYmIGIuZml4ZWQpIHx8XG4gICAgICAoYS5maXhlZCAmJiBiLnBvc2l0aW9uLmRpc3RhbmNlVG8oYS5wb3NpdGlvbikgPD0gbCAmJiBiLnJlc3RpbmcoKSkgfHxcbiAgICAgIChiLmZpeGVkICYmIGEucG9zaXRpb24uZGlzdGFuY2VUbyhiLnBvc2l0aW9uKSA8PSBsICYmIGEucmVzdGluZygpKVxuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL0F0dHJhY3Rpb24uanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Vector = __webpack_require__(1);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Runge Kutta Integrator\n * http://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods\n *\n * @class\n */\n\nvar Integrator = (function () {\n  function Integrator(system) {\n    _classCallCheck(this, Integrator);\n\n    this.system = system;\n\n    this.originalPositions = [];\n    this.originalVelocities = [];\n\n    this.k1Forces = [];\n    this.k1Velocities = [];\n\n    this.k2Forces = [];\n    this.k2Velocities = [];\n\n    this.k3Forces = [];\n    this.k3Velocities = [];\n\n    this.k4Forces = [];\n    this.k4Velocities = [];\n  }\n\n  _createClass(Integrator, [{\n    key: 'allocateParticles',\n    value: function allocateParticles() {\n      while (this.system.particles.length > this.originalPositions.length) {\n        this.originalPositions.push(new _Vector2.default());\n        this.originalVelocities.push(new _Vector2.default());\n\n        this.k1Forces.push(new _Vector2.default());\n        this.k1Velocities.push(new _Vector2.default());\n\n        this.k2Forces.push(new _Vector2.default());\n        this.k2Velocities.push(new _Vector2.default());\n\n        this.k3Forces.push(new _Vector2.default());\n        this.k3Velocities.push(new _Vector2.default());\n\n        this.k4Forces.push(new _Vector2.default());\n        this.k4Velocities.push(new _Vector2.default());\n      }\n\n      return this;\n    }\n  }, {\n    key: 'step',\n    value: function step(time) {\n      var s = this.system;\n\n      this.allocateParticles();\n\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          this.originalPositions[i].copy(p.position);\n          this.originalVelocities[i].copy(p.velocity);\n        }\n\n        p.force.clear();\n      }\n\n      s.applyForces();\n\n      // K1\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          this.k1Forces[i].copy(p.force);\n          this.k1Velocities[i].copy(p.velocity);\n        }\n\n        p.force.clear();\n      }\n\n      // K2\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          var op = this.originalPositions[i];\n          var k1v = this.k1Velocities[i];\n\n          var x = op.x + k1v.x * 0.5 * time;\n          var y = op.y + k1v.y * 0.5 * time;\n\n          p.position.set(x, y);\n\n          var ov = this.originalVelocities[i];\n          var k1f = this.k1Forces[i];\n\n          x = ov.x + k1f.x * 0.5 * time / p.mass;\n          y = ov.y + k1f.y * 0.5 * time / p.mass;\n\n          p.velocity.set(x, y);\n        }\n      }\n\n      s.applyForces();\n\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          this.k2Forces[i].copy(p.force);\n          this.k2Velocities[i].copy(p.velocity);\n        }\n\n        p.force.clear();\n      }\n\n      // K3\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          var op = this.originalPositions[i];\n          var k2v = this.k2Velocities[i];\n\n          p.position.set(op.x + k2v.x * 0.5 * time, op.y + k2v.y * 0.5 * time);\n\n          var ov = this.originalVelocities[i];\n          var k2f = this.k2Forces[i];\n\n          p.velocity.set(ov.x + k2f.x * 0.5 * time / p.mass, ov.y + k2f.y * 0.5 * time / p.mass);\n        }\n      }\n\n      s.applyForces();\n\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          this.k3Forces[i].copy(p.force);\n          this.k3Velocities[i].copy(p.velocity);\n        }\n\n        p.force.clear();\n      }\n\n      // K4\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          var op = this.originalPositions[i];\n          var k3v = this.k3Velocities[i];\n\n          p.position.set(op.x + k3v.x * time, op.y + k3v.y * time);\n\n          var ov = this.originalVelocities[i];\n          var k3f = this.k3Forces[i];\n\n          p.velocity.set(ov.x + k3f.x * time / p.mass, ov.y + k3f.y * time / p.mass);\n        }\n      }\n\n      s.applyForces();\n\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        if (!p.fixed) {\n          this.k4Forces[i].copy(p.force);\n          this.k4Velocities[i].copy(p.velocity);\n        }\n      }\n\n      // TOTAL\n      for (var i = 0; i < s.particles.length; i++) {\n        var p = s.particles[i];\n\n        p.age += time;\n\n        if (!p.fixed) {\n          var op = this.originalPositions[i];\n          var k1v = this.k1Velocities[i];\n          var k2v = this.k2Velocities[i];\n          var k3v = this.k3Velocities[i];\n          var k4v = this.k4Velocities[i];\n\n          var x = op.x + time / 6.0 * (k1v.x + 2.0 * k2v.x + 2.0 * k3v.x + k4v.x);\n          var y = op.y + time / 6.0 * (k1v.y + 2.0 * k2v.y + 2.0 * k3v.y + k4v.y);\n\n          p.position.set(x, y);\n\n          var ov = this.originalVelocities[i];\n          var k1f = this.k1Forces[i];\n          var k2f = this.k2Forces[i];\n          var k3f = this.k3Forces[i];\n          var k4f = this.k4Forces[i];\n\n          x = ov.x + time / (6.0 * p.mass) * (k1f.x + 2.0 * k2f.x + 2.0 * k3f.x + k4f.x);\n          y = ov.y + time / (6.0 * p.mass) * (k1f.y + 2.0 * k2f.y + 2.0 * k3f.y + k4f.y);\n\n          p.velocity.set(x, y);\n        }\n      }\n\n      return this;\n    }\n  }]);\n\n  return Integrator;\n})();\n\nexports.default = Integrator;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvSW50ZWdyYXRvci5qcz84ZGNiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBUXFCLFVBQVU7QUFDN0IsV0FEbUIsVUFBVSxDQUNoQixNQUFNLEVBQUU7MEJBREYsVUFBVTs7QUFFM0IsUUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNOztBQUVwQixRQUFJLENBQUMsaUJBQWlCLEdBQUcsRUFBRTtBQUMzQixRQUFJLENBQUMsa0JBQWtCLEdBQUcsRUFBRTs7QUFFNUIsUUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRTs7QUFFdEIsUUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRTs7QUFFdEIsUUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRTs7QUFFdEIsUUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFO0FBQ2xCLFFBQUksQ0FBQyxZQUFZLEdBQUcsRUFBRTtHQUN2Qjs7ZUFsQmtCLFVBQVU7O3dDQW9CUjtBQUNuQixhQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxFQUFFO0FBQ25FLFlBQUksQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsc0JBQVksQ0FBQztBQUN6QyxZQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLHNCQUFZLENBQUM7O0FBRTFDLFlBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHNCQUFZLENBQUM7QUFDaEMsWUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsc0JBQVksQ0FBQzs7QUFFcEMsWUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsc0JBQVksQ0FBQztBQUNoQyxZQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FB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QUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztTQUN0QztPQUNGOzs7QUFHRCxXQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDM0MsWUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7O0FBRXhCLFNBQUMsQ0FBQyxHQUFHLElBQUksSUFBSTs7QUFFYixZQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRTtBQUNaLGNBQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7QUFDcEMsY0FBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDaEMsY0FBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDaEMsY0FBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFDaEMsY0FBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7O0FBRWhDLGNBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDdkUsY0FBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFFdkUsV0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7QUFFcEIsY0FBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztBQUNyQyxjQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUM1QixjQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUM1QixjQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUM1QixjQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQzs7QUFFNUIsV0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQzlFLFdBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQzs7QUFFOUUsV0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNyQjtPQUNGOztBQUVELGFBQU8sSUFBSTtLQUNaOzs7U0FyTWtCLFVBQVU7OztrQkFBVixVQUFVIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJ1xuXG4gIC8qKlxuICAgKiBSdW5nZSBLdXR0YSBJbnRlZ3JhdG9yXG4gICAqIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUnVuZ2UlRTIlODAlOTNLdXR0YV9tZXRob2RzXG4gICAqXG4gICAqIEBjbGFzc1xuICAgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVncmF0b3Ige1xuICBjb25zdHJ1Y3RvciAoc3lzdGVtKSB7XG4gICAgdGhpcy5zeXN0ZW0gPSBzeXN0ZW1cblxuICAgIHRoaXMub3JpZ2luYWxQb3NpdGlvbnMgPSBbXVxuICAgIHRoaXMub3JpZ2luYWxWZWxvY2l0aWVzID0gW11cblxuICAgIHRoaXMuazFGb3JjZXMgPSBbXVxuICAgIHRoaXMuazFWZWxvY2l0aWVzID0gW11cblxuICAgIHRoaXMuazJGb3JjZXMgPSBbXVxuICAgIHRoaXMuazJWZWxvY2l0aWVzID0gW11cblxuICAgIHRoaXMuazNGb3JjZXMgPSBbXVxuICAgIHRoaXMuazNWZWxvY2l0aWVzID0gW11cblxuICAgIHRoaXMuazRGb3JjZXMgPSBbXVxuICAgIHRoaXMuazRWZWxvY2l0aWVzID0gW11cbiAgfVxuXG4gIGFsbG9jYXRlUGFydGljbGVzICgpIHtcbiAgICB3aGlsZSAodGhpcy5zeXN0ZW0ucGFydGljbGVzLmxlbmd0aCA+IHRoaXMub3JpZ2luYWxQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLm9yaWdpbmFsUG9zaXRpb25zLnB1c2gobmV3IFZlY3RvcigpKVxuICAgICAgdGhpcy5vcmlnaW5hbFZlbG9jaXRpZXMucHVzaChuZXcgVmVjdG9yKCkpXG5cbiAgICAgIHRoaXMuazFGb3JjZXMucHVzaChuZXcgVmVjdG9yKCkpXG4gICAgICB0aGlzLmsxVmVsb2NpdGllcy5wdXNoKG5ldyBWZWN0b3IoKSlcblxuICAgICAgdGhpcy5rMkZvcmNlcy5wdXNoKG5ldyBWZWN0b3IoKSlcbiAgICAgIHRoaXMuazJWZWxvY2l0aWVzLnB1c2gobmV3IFZlY3RvcigpKVxuXG4gICAgICB0aGlzLmszRm9yY2VzLnB1c2gobmV3IFZlY3RvcigpKVxuICAgICAgdGhpcy5rM1ZlbG9jaXRpZXMucHVzaChuZXcgVmVjdG9yKCkpXG5cbiAgICAgIHRoaXMuazRGb3JjZXMucHVzaChuZXcgVmVjdG9yKCkpXG4gICAgICB0aGlzLms0VmVsb2NpdGllcy5wdXNoKG5ldyBWZWN0b3IoKSlcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RlcCAodGltZSkge1xuICAgIGNvbnN0IHMgPSB0aGlzLnN5c3RlbVxuXG4gICAgdGhpcy5hbGxvY2F0ZVBhcnRpY2xlcygpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcy5wYXJ0aWNsZXNbaV1cblxuICAgICAgaWYgKCFwLmZpeGVkKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxQb3NpdGlvbnNbaV0uY29weShwLnBvc2l0aW9uKVxuICAgICAgICB0aGlzLm9yaWdpbmFsVmVsb2NpdGllc1tpXS5jb3B5KHAudmVsb2NpdHkpXG4gICAgICB9XG5cbiAgICAgIHAuZm9yY2UuY2xlYXIoKVxuICAgIH1cblxuICAgIHMuYXBwbHlGb3JjZXMoKVxuXG4gICAgLy8gSzFcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcy5wYXJ0aWNsZXNbaV1cblxuICAgICAgaWYgKCFwLmZpeGVkKSB7XG4gICAgICAgIHRoaXMuazFGb3JjZXNbaV0uY29weShwLmZvcmNlKVxuICAgICAgICB0aGlzLmsxVmVsb2NpdGllc1tpXS5jb3B5KHAudmVsb2NpdHkpXG4gICAgICB9XG5cbiAgICAgIHAuZm9yY2UuY2xlYXIoKVxuICAgIH1cblxuICAgIC8vIEsyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcCA9IHMucGFydGljbGVzW2ldXG5cbiAgICAgIGlmICghcC5maXhlZCkge1xuICAgICAgICBjb25zdCBvcCA9IHRoaXMub3JpZ2luYWxQb3NpdGlvbnNbaV1cbiAgICAgICAgY29uc3QgazF2ID0gdGhpcy5rMVZlbG9jaXRpZXNbaV1cblxuICAgICAgICBsZXQgeCA9IG9wLnggKyBrMXYueCAqIDAuNSAqIHRpbWVcbiAgICAgICAgbGV0IHkgPSBvcC55ICsgazF2LnkgKiAwLjUgKiB0aW1lXG5cbiAgICAgICAgcC5wb3NpdGlvbi5zZXQoeCwgeSlcblxuICAgICAgICBjb25zdCBvdiA9IHRoaXMub3JpZ2luYWxWZWxvY2l0aWVzW2ldXG4gICAgICAgIGNvbnN0IGsxZiA9IHRoaXMuazFGb3JjZXNbaV1cblxuICAgICAgICB4ID0gb3YueCArIGsxZi54ICogMC41ICogdGltZSAvIHAubWFzc1xuICAgICAgICB5ID0gb3YueSArIGsxZi55ICogMC41ICogdGltZSAvIHAubWFzc1xuXG4gICAgICAgIHAudmVsb2NpdHkuc2V0KHgsIHkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcy5hcHBseUZvcmNlcygpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcy5wYXJ0aWNsZXNbaV1cblxuICAgICAgaWYgKCFwLmZpeGVkKSB7XG4gICAgICAgIHRoaXMuazJGb3JjZXNbaV0uY29weShwLmZvcmNlKVxuICAgICAgICB0aGlzLmsyVmVsb2NpdGllc1tpXS5jb3B5KHAudmVsb2NpdHkpXG4gICAgICB9XG5cbiAgICAgIHAuZm9yY2UuY2xlYXIoKVxuICAgIH1cblxuICAgIC8vIEszXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcCA9IHMucGFydGljbGVzW2ldXG5cbiAgICAgIGlmICghcC5maXhlZCkge1xuICAgICAgICBjb25zdCBvcCA9IHRoaXMub3JpZ2luYWxQb3NpdGlvbnNbaV1cbiAgICAgICAgY29uc3QgazJ2ID0gdGhpcy5rMlZlbG9jaXRpZXNbaV1cblxuICAgICAgICBwLnBvc2l0aW9uLnNldChvcC54ICsgazJ2LnggKiAwLjUgKiB0aW1lLCBvcC55ICsgazJ2LnkgKiAwLjUgKiB0aW1lKVxuXG4gICAgICAgIGNvbnN0IG92ID0gdGhpcy5vcmlnaW5hbFZlbG9jaXRpZXNbaV1cbiAgICAgICAgY29uc3QgazJmID0gdGhpcy5rMkZvcmNlc1tpXVxuXG4gICAgICAgIHAudmVsb2NpdHkuc2V0KG92LnggKyBrMmYueCAqIDAuNSAqIHRpbWUgLyBwLm1hc3MsIG92LnkgKyBrMmYueSAqIDAuNSAqIHRpbWUgLyBwLm1hc3MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcy5hcHBseUZvcmNlcygpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcy5wYXJ0aWNsZXNbaV1cblxuICAgICAgaWYgKCFwLmZpeGVkKSB7XG4gICAgICAgIHRoaXMuazNGb3JjZXNbaV0uY29weShwLmZvcmNlKVxuICAgICAgICB0aGlzLmszVmVsb2NpdGllc1tpXS5jb3B5KHAudmVsb2NpdHkpXG4gICAgICB9XG5cbiAgICAgIHAuZm9yY2UuY2xlYXIoKVxuICAgIH1cblxuICAgIC8vIEs0XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcCA9IHMucGFydGljbGVzW2ldXG5cbiAgICAgIGlmICghcC5maXhlZCkge1xuICAgICAgICBjb25zdCBvcCA9IHRoaXMub3JpZ2luYWxQb3NpdGlvbnNbaV1cbiAgICAgICAgY29uc3QgazN2ID0gdGhpcy5rM1ZlbG9jaXRpZXNbaV1cblxuICAgICAgICBwLnBvc2l0aW9uLnNldChvcC54ICsgazN2LnggKiB0aW1lLCBvcC55ICsgazN2LnkgKiB0aW1lKVxuXG4gICAgICAgIGNvbnN0IG92ID0gdGhpcy5vcmlnaW5hbFZlbG9jaXRpZXNbaV1cbiAgICAgICAgY29uc3QgazNmID0gdGhpcy5rM0ZvcmNlc1tpXVxuXG4gICAgICAgIHAudmVsb2NpdHkuc2V0KG92LnggKyBrM2YueCAqIHRpbWUgLyBwLm1hc3MsIG92LnkgKyBrM2YueSAqIHRpbWUgLyBwLm1hc3MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcy5hcHBseUZvcmNlcygpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcy5wYXJ0aWNsZXNbaV1cblxuICAgICAgaWYgKCFwLmZpeGVkKSB7XG4gICAgICAgIHRoaXMuazRGb3JjZXNbaV0uY29weShwLmZvcmNlKVxuICAgICAgICB0aGlzLms0VmVsb2NpdGllc1tpXS5jb3B5KHAudmVsb2NpdHkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9UQUxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHMucGFydGljbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBwID0gcy5wYXJ0aWNsZXNbaV1cblxuICAgICAgcC5hZ2UgKz0gdGltZVxuXG4gICAgICBpZiAoIXAuZml4ZWQpIHtcbiAgICAgICAgY29uc3Qgb3AgPSB0aGlzLm9yaWdpbmFsUG9zaXRpb25zW2ldXG4gICAgICAgIGNvbnN0IGsxdiA9IHRoaXMuazFWZWxvY2l0aWVzW2ldXG4gICAgICAgIGNvbnN0IGsydiA9IHRoaXMuazJWZWxvY2l0aWVzW2ldXG4gICAgICAgIGNvbnN0IGszdiA9IHRoaXMuazNWZWxvY2l0aWVzW2ldXG4gICAgICAgIGNvbnN0IGs0diA9IHRoaXMuazRWZWxvY2l0aWVzW2ldXG5cbiAgICAgICAgbGV0IHggPSBvcC54ICsgdGltZSAvIDYuMCAqIChrMXYueCArIDIuMCAqIGsydi54ICsgMi4wICogazN2LnggKyBrNHYueClcbiAgICAgICAgbGV0IHkgPSBvcC55ICsgdGltZSAvIDYuMCAqIChrMXYueSArIDIuMCAqIGsydi55ICsgMi4wICogazN2LnkgKyBrNHYueSlcblxuICAgICAgICBwLnBvc2l0aW9uLnNldCh4LCB5KVxuXG4gICAgICAgIGNvbnN0IG92ID0gdGhpcy5vcmlnaW5hbFZlbG9jaXRpZXNbaV1cbiAgICAgICAgY29uc3QgazFmID0gdGhpcy5rMUZvcmNlc1tpXVxuICAgICAgICBjb25zdCBrMmYgPSB0aGlzLmsyRm9yY2VzW2ldXG4gICAgICAgIGNvbnN0IGszZiA9IHRoaXMuazNGb3JjZXNbaV1cbiAgICAgICAgY29uc3QgazRmID0gdGhpcy5rNEZvcmNlc1tpXVxuXG4gICAgICAgIHggPSBvdi54ICsgdGltZSAvICg2LjAgKiBwLm1hc3MpICogKGsxZi54ICsgMi4wICogazJmLnggKyAyLjAgKiBrM2YueCArIGs0Zi54KVxuICAgICAgICB5ID0gb3YueSArIHRpbWUgLyAoNi4wICogcC5tYXNzKSAqIChrMWYueSArIDIuMCAqIGsyZi55ICsgMi4wICogazNmLnkgKyBrNGYueSlcblxuICAgICAgICBwLnZlbG9jaXR5LnNldCh4LCB5KVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvSW50ZWdyYXRvci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Vector = __webpack_require__(1);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Particle = (function () {\n  function Particle(mass, x, y) {\n    _classCallCheck(this, Particle);\n\n    this.position = new _Vector2.default(x, y);\n\n    this.velocity = new _Vector2.default();\n    this.force = new _Vector2.default();\n\n    this.mass = mass;\n\n    this.fixed = false;\n\n    this.age = 0;\n    this.dead = false;\n  }\n\n  /**\n   * Get the distance between two particles.\n   */\n\n  _createClass(Particle, [{\n    key: 'distanceTo',\n    value: function distanceTo(p) {\n      return this.position.distanceTo(p.position);\n    }\n\n    /**\n     * Make the particle fixed in 2D space.\n     */\n\n  }, {\n    key: 'makeFixed',\n    value: function makeFixed() {\n      this.fixed = true;\n      this.velocity.clear();\n\n      return this;\n    }\n\n    /**\n     * Reset a particle.\n     */\n\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this.clear();\n      this.velocity.clear();\n      this.force.clear();\n\n      this.mass = 1.0;\n\n      this.age = 0;\n      this.dead = false;\n\n      return this;\n    }\n\n    /**\n     * Returns a boolean describing whether the particle is in movement.\n     */\n\n  }, {\n    key: 'resting',\n    value: function resting() {\n      return this.fixed || this.velocity.isZero() && this.force.isZero();\n    }\n  }]);\n\n  return Particle;\n})();\n\nexports.default = Particle;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUGFydGljbGUuanM/YjIxMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0lBRXFCLFFBQVE7QUFFM0IsV0FGbUIsUUFBUSxDQUVkLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFOzBCQUZOLFFBQVE7O0FBR3pCLFFBQUksQ0FBQyxRQUFRLEdBQUcscUJBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQzs7QUFFaEMsUUFBSSxDQUFDLFFBQVEsR0FBRyxzQkFBWTtBQUM1QixRQUFJLENBQUMsS0FBSyxHQUFHLHNCQUFZOztBQUV6QixRQUFJLENBQUMsSUFBSSxHQUFHLElBQUk7O0FBRWhCLFFBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSzs7QUFFbEIsUUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDO0FBQ1osUUFBSSxDQUFDLElBQUksR0FBRyxLQUFLO0dBQ2xCOzs7OztBQUFBO2VBZGtCLFFBQVE7OytCQW1CZixDQUFDLEVBQUU7QUFDYixhQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7S0FDNUM7Ozs7Ozs7O2dDQUtZO0FBQ1gsVUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJO0FBQ2pCLFVBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFOztBQUVyQixhQUFPLElBQUk7S0FDWjs7Ozs7Ozs7NEJBS1E7QUFDUCxVQUFJLENBQUMsS0FBSyxFQUFFO0FBQ1osVUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUU7QUFDckIsVUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUU7O0FBRWxCLFVBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRzs7QUFFZixVQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDWixVQUFJLENBQUMsSUFBSSxHQUFHLEtBQUs7O0FBRWpCLGFBQU8sSUFBSTtLQUNaOzs7Ozs7Ozs4QkFLVTtBQUNULGFBQU8sSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFO0tBQ25FOzs7U0F0RGtCLFFBQVE7OztrQkFBUixRQUFRIiwiZmlsZSI6IjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVmVjdG9yIGZyb20gJy4vVmVjdG9yJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0aWNsZSB7XG5cbiAgY29uc3RydWN0b3IgKG1hc3MsIHgsIHkpIHtcbiAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFZlY3Rvcih4LCB5KVxuXG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWN0b3IoKVxuICAgIHRoaXMuZm9yY2UgPSBuZXcgVmVjdG9yKClcblxuICAgIHRoaXMubWFzcyA9IG1hc3NcblxuICAgIHRoaXMuZml4ZWQgPSBmYWxzZVxuXG4gICAgdGhpcy5hZ2UgPSAwXG4gICAgdGhpcy5kZWFkID0gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBhcnRpY2xlcy5cbiAgICovXG4gIGRpc3RhbmNlVG8gKHApIHtcbiAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi5kaXN0YW5jZVRvKHAucG9zaXRpb24pXG4gIH1cblxuICAvKipcbiAgICogTWFrZSB0aGUgcGFydGljbGUgZml4ZWQgaW4gMkQgc3BhY2UuXG4gICAqL1xuICBtYWtlRml4ZWQgKCkge1xuICAgIHRoaXMuZml4ZWQgPSB0cnVlXG4gICAgdGhpcy52ZWxvY2l0eS5jbGVhcigpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IGEgcGFydGljbGUuXG4gICAqL1xuICByZXNldCAoKSB7XG4gICAgdGhpcy5jbGVhcigpXG4gICAgdGhpcy52ZWxvY2l0eS5jbGVhcigpXG4gICAgdGhpcy5mb3JjZS5jbGVhcigpXG5cbiAgICB0aGlzLm1hc3MgPSAxLjBcblxuICAgIHRoaXMuYWdlID0gMFxuICAgIHRoaXMuZGVhZCA9IGZhbHNlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBib29sZWFuIGRlc2NyaWJpbmcgd2hldGhlciB0aGUgcGFydGljbGUgaXMgaW4gbW92ZW1lbnQuXG4gICAqL1xuICByZXN0aW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5maXhlZCB8fCB0aGlzLnZlbG9jaXR5LmlzWmVybygpICYmIHRoaXMuZm9yY2UuaXNaZXJvKClcbiAgfVxuXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9QYXJ0aWNsZS5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Vector = __webpack_require__(1);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _Particle = __webpack_require__(5);\n\nvar _Particle2 = _interopRequireDefault(_Particle);\n\nvar _Spring = __webpack_require__(8);\n\nvar _Spring2 = _interopRequireDefault(_Spring);\n\nvar _Attraction = __webpack_require__(3);\n\nvar _Attraction2 = _interopRequireDefault(_Attraction);\n\nvar _Integrator = __webpack_require__(4);\n\nvar _Integrator2 = _interopRequireDefault(_Integrator);\n\nvar _utils = __webpack_require__(9);\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * traer.js\n * A particle-based physics engine ported from Jeff Traer's Processing\n * library to JavaScript. This version is intended for use with the\n * HTML5 canvas element. It is dependent on Three.js' Vector2 class,\n * but can be overridden with any Vector2 class with the methods included.\n *\n * @author Jeffrey Traer Bernstein <jeff TA traer TOD cc> (original Java library)\n * @author Adam Saponara <saponara TA gmail TOD com> (JavaScript port)\n * @author Jono Brandel <http://jonobr1.com/> (requirified/optimization port)\n *\n * @version 0.3\n * @date March 25, 2012\n */\n\nvar DEFAULT_GRAVITY = 0;\nvar DEFAULT_DRAG = 0.001;\n\n/**\n * The whole kit and kaboodle.\n *\n * @class\n */\n\nvar ParticleSystem = (function () {\n  function ParticleSystem() {\n    var gravityX = arguments.length <= 0 || arguments[0] === undefined ? DEFAULT_GRAVITY : arguments[0];\n    var gravityY = arguments.length <= 1 || arguments[1] === undefined ? DEFAULT_GRAVITY : arguments[1];\n\n    _classCallCheck(this, ParticleSystem);\n\n    var drag = arguments.length <= 2 || arguments[2] === undefined ? DEFAULT_DRAG : arguments[2];\n\n    this.equilibriumCriteria = {\n      particles: true,\n      springs: true,\n      attractions: true\n    };\n\n    this.equilibrium = false; // are we at equilibrium?\n    this.optimized = false;\n\n    this.particles = [];\n    this.springs = [];\n    this.attractions = [];\n    this.forces = [];\n    this.integrator = new _Integrator2.default(this);\n    this.hasDeadParticles = false;\n\n    this.Attraction = _Attraction2.default;\n    this.Integrator = _Integrator2.default;\n    this.Particle = _Particle2.default;\n    this.Spring = _Spring2.default;\n    this.Vector = _Vector2.default;\n\n    this.DEFAULT_GRAVITY = DEFAULT_GRAVITY;\n    this.DEFAULT_DRAG = DEFAULT_DRAG;\n\n    this.gravity = new _Vector2.default(gravityX, gravityY);\n    this.drag = drag;\n  }\n\n  /**\n   * Set whether to optimize the simulation. This enables the check of whether\n   * particles are moving.\n   */\n\n  _createClass(ParticleSystem, [{\n    key: 'optimize',\n    value: function optimize(b) {\n      this.optimized = !!b;\n\n      return this;\n    }\n\n    /**\n     * Set the gravity of the ParticleSystem.\n     */\n\n  }, {\n    key: 'setGravity',\n    value: function setGravity(x, y) {\n      this.gravity.set(x, y);\n\n      return this;\n    }\n\n    /**\n    * Sets the criteria for equilibrium\n    */\n\n  }, {\n    key: 'setEquilibriumCriteria',\n    value: function setEquilibriumCriteria(particles, springs, attractions) {\n      this.equilibriumCriteria.particles = !!particles;\n      this.equilibriumCriteria.springs = !!springs;\n      this.equilibriumCriteria.attractions = !!attractions;\n    }\n\n    /**\n     * Update the integrator\n     */\n\n  }, {\n    key: 'tick',\n    value: function tick() {\n      this.integrator.step(arguments.length === 0 ? 1 : arguments[0]);\n\n      if (this.optimized) {\n        this.equilibrium = !this.needsUpdate();\n      }\n\n      return this;\n    }\n\n    /**\n     * Checks all springs and attractions to see if the contained particles are\n     * inert / resting and returns a boolean.\n     */\n\n  }, {\n    key: 'needsUpdate',\n    value: function needsUpdate() {\n      if (this.equilibriumCriteria.particles) {\n        for (var i = 0; i < this.particles.length; i++) {\n          if (!this.particles[i].resting()) {\n            return true;\n          }\n        }\n      }\n\n      if (this.equilibriumCriteria.springs) {\n        for (var i = 0; i < this.springs.length; i++) {\n          if (!this.springs[i].resting()) {\n            return true;\n          }\n        }\n      }\n\n      if (this.equilibriumCriteria.attractions) {\n        for (var i = 0; i < this.attractions.length; i++) {\n          if (!this.attractions[i].resting()) {\n            return true;\n          }\n        }\n      }\n\n      return false;\n    }\n\n    /**\n     * Add a particle to the ParticleSystem.\n     */\n\n  }, {\n    key: 'addParticle',\n    value: function addParticle(p) {\n      this.particles.push(p);\n\n      return this;\n    }\n\n    /**\n     * Add a spring to the ParticleSystem.\n     */\n\n  }, {\n    key: 'addSpring',\n    value: function addSpring(s) {\n      this.springs.push(s);\n\n      return this;\n    }\n\n    /**\n     * Add an attraction to the ParticleSystem.\n     */\n\n  }, {\n    key: 'addAttraction',\n    value: function addAttraction(a) {\n      this.attractions.push(a);\n\n      return this;\n    }\n\n    /**\n     * Makes and then adds Particle to ParticleSystem.\n     */\n\n  }, {\n    key: 'makeParticle',\n    value: function makeParticle(m) {\n      var x = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n      var y = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n      var mass = utils.isNumeric(m) ? m : 1.0;\n\n      var p = new _Particle2.default(mass, x, y);\n\n      this.addParticle(p);\n\n      return p;\n    }\n\n    /**\n     * Makes and then adds Spring to ParticleSystem.\n     */\n\n  }, {\n    key: 'makeSpring',\n    value: function makeSpring(a, b, k, d, l) {\n      var spring = new _Spring2.default(a, b, k, d, l);\n\n      this.addSpring(spring);\n\n      return spring;\n    }\n\n    /**\n     * Makes and then adds Attraction to ParticleSystem.\n     */\n\n  }, {\n    key: 'makeAttraction',\n    value: function makeAttraction(a, b, k, d) {\n      var attraction = new _Attraction2.default(a, b, k, d);\n\n      this.addAttraction(attraction);\n\n      return attraction;\n    }\n\n    /**\n     * Wipe the ParticleSystem clean.\n     */\n\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.particles.length = 0;\n      this.springs.length = 0;\n      this.attractions.length = 0;\n    }\n\n    /**\n     * Calculate and apply forces.\n     */\n\n  }, {\n    key: 'applyForces',\n    value: function applyForces() {\n      if (!this.gravity.isZero()) {\n        for (var i = 0; i < this.particles.length; i++) {\n          this.particles[i].force.addSelf(this.gravity);\n        }\n      }\n\n      var t = new _Vector2.default();\n\n      for (var i = 0; i < this.particles.length; i++) {\n        var p = this.particles[i];\n\n        t.set(p.velocity.x * -1 * this.drag, p.velocity.y * -1 * this.drag);\n\n        p.force.addSelf(t);\n      }\n\n      for (var i = 0; i < this.springs.length; i++) {\n        this.springs[i].update();\n      }\n\n      for (var i = 0; i < this.attractions.length; i++) {\n        this.attractions[i].update();\n      }\n\n      for (var i = 0; i < this.forces.length; i++) {\n        this.forces[i].update();\n      }\n\n      return this;\n    }\n\n    /**\n     * Clear all particles in the system.\n     */\n\n  }, {\n    key: 'clearForces',\n    value: function clearForces() {\n      for (var i = 0; i < this.particles.length; i++) {\n        this.particles[i].clear();\n      }\n\n      return this;\n    }\n  }]);\n\n  return ParticleSystem;\n})();\n\nexports.default = ParticleSystem;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUGFydGljbGVTeXN0ZW0uanM/MzEyMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFLWSxLQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCakIsSUFBTSxlQUFlLEdBQUcsQ0FBQztBQUN6QixJQUFNLFlBQVksR0FBRyxLQUFLOzs7Ozs7O0FBQUE7SUFPTCxjQUFjO0FBRWpDLFdBRm1CLGNBQWMsR0FFeUQ7UUFBN0UsUUFBUSx5REFBRyxlQUFlO1FBQUUsUUFBUSx5REFBRyxlQUFlOzswQkFGaEQsY0FBYzs7UUFFb0MsSUFBSSx5REFBRyxZQUFZOztBQUN0RixRQUFJLENBQUMsbUJBQW1CLEdBQUc7QUFDekIsZUFBUyxFQUFFLElBQUk7QUFDZixhQUFPLEVBQUUsSUFBSTtBQUNiLGlCQUFXLEVBQUUsSUFBSTtLQUNsQjs7QUFFRCxRQUFJLENBQUMsV0FBVyxHQUFHLEtBQUs7QUFDeEIsUUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLOztBQUV0QixRQUFJLENBQUMsU0FBUyxHQUFHLEVBQUU7QUFDbkIsUUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFO0FBQ2pCLFFBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRTtBQUNyQixRQUFJLENBQUMsTUFBTSxHQUFHLEVBQUU7QUFDaEIsUUFBSSxDQUFDLFVBQVUsR0FBRyx5QkFBZSxJQUFJLENBQUM7QUFDdEMsUUFBSSxDQUFDLGdCQUFnQixHQUFHLEtBQUs7O0FBRTdCLFFBQUksQ0FBQyxVQUFVLHVCQUFhO0FBQzVCLFFBQUksQ0FBQyxVQUFVLHVCQUFhO0FBQzVCLFFBQUksQ0FBQyxRQUFRLHFCQUFXO0FBQ3hCLFFBQUksQ0FBQyxNQUFNLG1CQUFTO0FBQ3BCLFFBQUksQ0FBQyxNQUFNLG1CQUFTOztBQUVwQixRQUFJLENBQUMsZUFBZSxHQUFHLGVBQWU7QUFDdEMsUUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZOztBQUVoQyxRQUFJLENB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YztBQUNiLFdBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM5QyxZQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRTtPQUMxQjs7QUFFRCxhQUFPLElBQUk7S0FDWjs7O1NBNU5rQixjQUFjOzs7a0JBQWQsY0FBYyIsImZpbGUiOiI2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3RvcidcbmltcG9ydCBQYXJ0aWNsZSBmcm9tICcuL1BhcnRpY2xlJ1xuaW1wb3J0IFNwcmluZyBmcm9tICcuL1NwcmluZydcbmltcG9ydCBBdHRyYWN0aW9uIGZyb20gJy4vQXR0cmFjdGlvbidcbmltcG9ydCBJbnRlZ3JhdG9yIGZyb20gJy4vSW50ZWdyYXRvcidcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vdXRpbHMnXG5cbi8qKlxuICogdHJhZXIuanNcbiAqIEEgcGFydGljbGUtYmFzZWQgcGh5c2ljcyBlbmdpbmUgcG9ydGVkIGZyb20gSmVmZiBUcmFlcidzIFByb2Nlc3NpbmdcbiAqIGxpYnJhcnkgdG8gSmF2YVNjcmlwdC4gVGhpcyB2ZXJzaW9uIGlzIGludGVuZGVkIGZvciB1c2Ugd2l0aCB0aGVcbiAqIEhUTUw1IGNhbnZhcyBlbGVtZW50LiBJdCBpcyBkZXBlbmRlbnQgb24gVGhyZWUuanMnIFZlY3RvcjIgY2xhc3MsXG4gKiBidXQgY2FuIGJlIG92ZXJyaWRkZW4gd2l0aCBhbnkgVmVjdG9yMiBjbGFzcyB3aXRoIHRoZSBtZXRob2RzIGluY2x1ZGVkLlxuICpcbiAqIEBhdXRob3IgSmVmZnJleSBUcmFlciBCZXJuc3RlaW4gPGplZmYgVEEgdHJhZXIgVE9EIGNjPiAob3JpZ2luYWwgSmF2YSBsaWJyYXJ5KVxuICogQGF1dGhvciBBZGFtIFNhcG9uYXJhIDxzYXBvbmFyYSBUQSBnbWFpbCBUT0QgY29tPiAoSmF2YVNjcmlwdCBwb3J0KVxuICogQGF1dGhvciBKb25vIEJyYW5kZWwgPGh0dHA6Ly9qb25vYnIxLmNvbS8+IChyZXF1aXJpZmllZC9vcHRpbWl6YXRpb24gcG9ydClcbiAqXG4gKiBAdmVyc2lvbiAwLjNcbiAqIEBkYXRlIE1hcmNoIDI1LCAyMDEyXG4gKi9cblxuY29uc3QgREVGQVVMVF9HUkFWSVRZID0gMFxuY29uc3QgREVGQVVMVF9EUkFHID0gMC4wMDFcblxuLyoqXG4gKiBUaGUgd2hvbGUga2l0IGFuZCBrYWJvb2RsZS5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydGljbGVTeXN0ZW0ge1xuXG4gIGNvbnN0cnVjdG9yIChncmF2aXR5WCA9IERFRkFVTFRfR1JBVklUWSwgZ3Jhdml0eVkgPSBERUZBVUxUX0dSQVZJVFksIGRyYWcgPSBERUZBVUxUX0RSQUcpIHtcbiAgICB0aGlzLmVxdWlsaWJyaXVtQ3JpdGVyaWEgPSB7XG4gICAgICBwYXJ0aWNsZXM6IHRydWUsXG4gICAgICBzcHJpbmdzOiB0cnVlLFxuICAgICAgYXR0cmFjdGlvbnM6IHRydWVcbiAgICB9XG5cbiAgICB0aGlzLmVxdWlsaWJyaXVtID0gZmFsc2UgLy8gYXJlIHdlIGF0IGVxdWlsaWJyaXVtP1xuICAgIHRoaXMub3B0aW1pemVkID0gZmFsc2VcblxuICAgIHRoaXMucGFydGljbGVzID0gW11cbiAgICB0aGlzLnNwcmluZ3MgPSBbXVxuICAgIHRoaXMuYXR0cmFjdGlvbnMgPSBbXVxuICAgIHRoaXMuZm9yY2VzID0gW11cbiAgICB0aGlzLmludGVncmF0b3IgPSBuZXcgSW50ZWdyYXRvcih0aGlzKVxuICAgIHRoaXMuaGFzRGVhZFBhcnRpY2xlcyA9IGZhbHNlXG5cbiAgICB0aGlzLkF0dHJhY3Rpb24gPSBBdHRyYWN0aW9uXG4gICAgdGhpcy5JbnRlZ3JhdG9yID0gSW50ZWdyYXRvclxuICAgIHRoaXMuUGFydGljbGUgPSBQYXJ0aWNsZVxuICAgIHRoaXMuU3ByaW5nID0gU3ByaW5nXG4gICAgdGhpcy5WZWN0b3IgPSBWZWN0b3JcblxuICAgIHRoaXMuREVGQVVMVF9HUkFWSVRZID0gREVGQVVMVF9HUkFWSVRZXG4gICAgdGhpcy5ERUZBVUxUX0RSQUcgPSBERUZBVUxUX0RSQUdcblxuICAgIHRoaXMuZ3Jhdml0eSA9IG5ldyBWZWN0b3IoZ3Jhdml0eVgsIGdyYXZpdHlZKVxuICAgIHRoaXMuZHJhZyA9IGRyYWdcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgd2hldGhlciB0byBvcHRpbWl6ZSB0aGUgc2ltdWxhdGlvbi4gVGhpcyBlbmFibGVzIHRoZSBjaGVjayBvZiB3aGV0aGVyXG4gICAqIHBhcnRpY2xlcyBhcmUgbW92aW5nLlxuICAgKi9cbiAgb3B0aW1pemUgKGIpIHtcbiAgICB0aGlzLm9wdGltaXplZCA9ICEhYlxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGdyYXZpdHkgb2YgdGhlIFBhcnRpY2xlU3lzdGVtLlxuICAgKi9cbiAgc2V0R3Jhdml0eSAoeCwgeSkge1xuICAgIHRoaXMuZ3Jhdml0eS5zZXQoeCwgeSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgKiBTZXRzIHRoZSBjcml0ZXJpYSBmb3IgZXF1aWxpYnJpdW1cbiAgKi9cbiAgc2V0RXF1aWxpYnJpdW1Dcml0ZXJpYSAocGFydGljbGVzLCBzcHJpbmdzLCBhdHRyYWN0aW9ucykge1xuICAgIHRoaXMuZXF1aWxpYnJpdW1Dcml0ZXJpYS5wYXJ0aWNsZXMgPSAhIXBhcnRpY2xlc1xuICAgIHRoaXMuZXF1aWxpYnJpdW1Dcml0ZXJpYS5zcHJpbmdzID0gISFzcHJpbmdzXG4gICAgdGhpcy5lcXVpbGlicml1bUNyaXRlcmlhLmF0dHJhY3Rpb25zID0gISFhdHRyYWN0aW9uc1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgaW50ZWdyYXRvclxuICAgKi9cbiAgdGljayAoKSB7XG4gICAgdGhpcy5pbnRlZ3JhdG9yLnN0ZXAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/IDEgOiBhcmd1bWVudHNbMF0pXG5cbiAgICBpZiAodGhpcy5vcHRpbWl6ZWQpIHtcbiAgICAgIHRoaXMuZXF1aWxpYnJpdW0gPSAhdGhpcy5uZWVkc1VwZGF0ZSgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgYWxsIHNwcmluZ3MgYW5kIGF0dHJhY3Rpb25zIHRvIHNlZSBpZiB0aGUgY29udGFpbmVkIHBhcnRpY2xlcyBhcmVcbiAgICogaW5lcnQgLyByZXN0aW5nIGFuZCByZXR1cm5zIGEgYm9vbGVhbi5cbiAgICovXG4gIG5lZWRzVXBkYXRlICgpIHtcbiAgICBpZiAodGhpcy5lcXVpbGlicml1bUNyaXRlcmlhLnBhcnRpY2xlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXRoaXMucGFydGljbGVzW2ldLnJlc3RpbmcoKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5lcXVpbGlicml1bUNyaXRlcmlhLnNwcmluZ3MpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zcHJpbmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghdGhpcy5zcHJpbmdzW2ldLnJlc3RpbmcoKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5lcXVpbGlicml1bUNyaXRlcmlhLmF0dHJhY3Rpb25zKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0cmFjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKCF0aGlzLmF0dHJhY3Rpb25zW2ldLnJlc3RpbmcoKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBwYXJ0aWNsZSB0byB0aGUgUGFydGljbGVTeXN0ZW0uXG4gICAqL1xuICBhZGRQYXJ0aWNsZSAocCkge1xuICAgIHRoaXMucGFydGljbGVzLnB1c2gocClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgc3ByaW5nIHRvIHRoZSBQYXJ0aWNsZVN5c3RlbS5cbiAgICovXG4gIGFkZFNwcmluZyAocykge1xuICAgIHRoaXMuc3ByaW5ncy5wdXNoKHMpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBhdHRyYWN0aW9uIHRvIHRoZSBQYXJ0aWNsZVN5c3RlbS5cbiAgICovXG4gIGFkZEF0dHJhY3Rpb24gKGEpIHtcbiAgICB0aGlzLmF0dHJhY3Rpb25zLnB1c2goYSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogTWFrZXMgYW5kIHRoZW4gYWRkcyBQYXJ0aWNsZSB0byBQYXJ0aWNsZVN5c3RlbS5cbiAgICovXG4gIG1ha2VQYXJ0aWNsZSAobSwgeCA9IDAsIHkgPSAwKSB7XG4gICAgY29uc3QgbWFzcyA9IHV0aWxzLmlzTnVtZXJpYyhtKSA/IG0gOiAxLjBcblxuICAgIGNvbnN0IHAgPSBuZXcgUGFydGljbGUobWFzcywgeCwgeSlcblxuICAgIHRoaXMuYWRkUGFydGljbGUocClcblxuICAgIHJldHVybiBwXG4gIH1cblxuICAvKipcbiAgICogTWFrZXMgYW5kIHRoZW4gYWRkcyBTcHJpbmcgdG8gUGFydGljbGVTeXN0ZW0uXG4gICAqL1xuICBtYWtlU3ByaW5nIChhLCBiLCBrLCBkLCBsKSB7XG4gICAgY29uc3Qgc3ByaW5nID0gbmV3IFNwcmluZyhhLCBiLCBrLCBkLCBsKVxuXG4gICAgdGhpcy5hZGRTcHJpbmcoc3ByaW5nKVxuXG4gICAgcmV0dXJuIHNwcmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFuZCB0aGVuIGFkZHMgQXR0cmFjdGlvbiB0byBQYXJ0aWNsZVN5c3RlbS5cbiAgICovXG4gIG1ha2VBdHRyYWN0aW9uIChhLCBiLCBrLCBkKSB7XG4gICAgY29uc3QgYXR0cmFjdGlvbiA9IG5ldyBBdHRyYWN0aW9uKGEsIGIsIGssIGQpXG5cbiAgICB0aGlzLmFkZEF0dHJhY3Rpb24oYXR0cmFjdGlvbilcblxuICAgIHJldHVybiBhdHRyYWN0aW9uXG4gIH1cblxuICAvKipcbiAgICogV2lwZSB0aGUgUGFydGljbGVTeXN0ZW0gY2xlYW4uXG4gICAqL1xuICBjbGVhciAoKSB7XG4gICAgdGhpcy5wYXJ0aWNsZXMubGVuZ3RoID0gMFxuICAgIHRoaXMuc3ByaW5ncy5sZW5ndGggPSAwXG4gICAgdGhpcy5hdHRyYWN0aW9ucy5sZW5ndGggPSAwXG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGFuZCBhcHBseSBmb3JjZXMuXG4gICAqL1xuICBhcHBseUZvcmNlcyAoKSB7XG4gICAgaWYgKCF0aGlzLmdyYXZpdHkuaXNaZXJvKCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJ0aWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXNbaV0uZm9yY2UuYWRkU2VsZih0aGlzLmdyYXZpdHkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgdCA9IG5ldyBWZWN0b3IoKVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcCA9IHRoaXMucGFydGljbGVzW2ldXG5cbiAgICAgIHQuc2V0KHAudmVsb2NpdHkueCAqIC0xICogdGhpcy5kcmFnLCBwLnZlbG9jaXR5LnkgKiAtMSAqIHRoaXMuZHJhZylcblxuICAgICAgcC5mb3JjZS5hZGRTZWxmKHQpXG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNwcmluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuc3ByaW5nc1tpXS51cGRhdGUoKVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyYWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hdHRyYWN0aW9uc1tpXS51cGRhdGUoKVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mb3JjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZm9yY2VzW2ldLnVwZGF0ZSgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgcGFydGljbGVzIGluIHRoZSBzeXN0ZW0uXG4gICAqL1xuICBjbGVhckZvcmNlcyAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wYXJ0aWNsZXNbaV0uY2xlYXIoKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvUGFydGljbGVTeXN0ZW0uanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _raf = __webpack_require__(12);\n\nvar _raf2 = _interopRequireDefault(_raf);\n\nvar _ParticleSystem2 = __webpack_require__(6);\n\nvar _ParticleSystem3 = _interopRequireDefault(_ParticleSystem2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Extended singleton instance of ParticleSystem with convenience methods for\n * Request Animation Frame.\n * @class\n */\n\nvar Physics = (function (_ParticleSystem) {\n  _inherits(Physics, _ParticleSystem);\n\n  function Physics(gravityX, gravityY, drag) {\n    _classCallCheck(this, Physics);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Physics).call(this, gravityX, gravityY, drag));\n\n    _this.playing = false;\n\n    _this.animations = [];\n\n    _this.equilibriumCallbacks = [];\n\n    _this.loop();\n    return _this;\n  }\n\n  /**\n   * Play the animation loop. Doesn't affect whether in equilibrium or not.\n   */\n\n  _createClass(Physics, [{\n    key: 'play',\n    value: function play() {\n      if (this.playing) {\n        return this;\n      }\n\n      this.playing = true;\n      this.equilibrium = false;\n\n      return this;\n    }\n\n    /**\n     * Pause the animation loop. Doesn't affect whether in equilibrium or not.\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this.playing = false;\n\n      return this;\n    }\n\n    /**\n     * Toggle between playing and pausing the simulation.\n     */\n\n  }, {\n    key: 'toggle',\n    value: function toggle() {\n      if (this.playing) {\n        this.pause();\n      } else {\n        this.play();\n      }\n\n      return this;\n    }\n  }, {\n    key: 'onUpdate',\n    value: function onUpdate(cb) {\n      if (this.animations.indexOf(cb) >= 0 || typeof cb !== 'function') {\n        return this;\n      }\n\n      this.animations.push(cb);\n\n      return this;\n    }\n  }, {\n    key: 'onEquilibrium',\n    value: function onEquilibrium(cb) {\n      if (this.equilibriumCallbacks.indexOf(cb) >= 0 || typeof cb !== 'function') {\n        return this;\n      }\n\n      this.equilibriumCallbacks.push(cb);\n\n      return this;\n    }\n\n    /**\n     * Call update after values in the system have changed and this will fire\n     * it's own Request Animation Frame to update until things have settled\n     * to equilibrium  at which point the system will stop updating.\n     */\n\n  }, {\n    key: 'update',\n    value: function update() {\n      if (this.optimized && this.equilibrium) {\n        return this;\n      }\n\n      this.tick();\n\n      for (var i = 0; i < this.animations.length; i++) {\n        this.animations[i]();\n      }\n\n      return this;\n    }\n  }, {\n    key: 'loop',\n    value: function loop() {\n      if (this.playing) {\n        this.update();\n      }\n\n      (0, _raf2.default)(this.loop.bind(this));\n    }\n  }]);\n\n  return Physics;\n})(_ParticleSystem3.default);\n\nexports.default = Physics;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUGh5c2ljcy5qcz9mY2I1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQVFxQixPQUFPO1lBQVAsT0FBTzs7QUFFMUIsV0FGbUIsT0FBTyxDQUViLFFBQVEsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFOzBCQUZwQixPQUFPOzt1RUFBUCxPQUFPLGFBR2xCLFFBQVEsRUFBRSxRQUFRLEVBQUUsSUFBSTs7QUFFOUIsVUFBSyxPQUFPLEdBQUcsS0FBSzs7QUFFcEIsVUFBSyxVQUFVLEdBQUcsRUFBRTs7QUFFcEIsVUFBSyxvQkFBb0IsR0FBRyxFQUFFOztBQUU5QixVQUFLLElBQUksRUFBRTs7R0FDWjs7Ozs7QUFBQTtlQVprQixPQUFPOzsyQkFpQmxCO0FBQ04sVUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQ2hCLGVBQU8sSUFBSTtPQUNaOztBQUVELFVBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSTtBQUNuQixVQUFJLENBQUMsV0FBVyxHQUFHLEtBQUs7O0FBRXhCLGFBQU8sSUFBSTtLQUNaOzs7Ozs7Ozs0QkFLUTtBQUNQLFVBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSzs7QUFFcEIsYUFBTyxJQUFJO0tBQ1o7Ozs7Ozs7OzZCQUtTO0FBQ1IsVUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQ2hCLFlBQUksQ0FBQyxLQUFLLEVBQUU7T0FDYixNQUFNO0FBQ0wsWUFBSSxDQUFDLElBQUksRUFBRTtPQUNaOztBQUVELGFBQU8sSUFBSTtLQUNaOzs7NkJBRVMsRUFBRSxFQUFFO0FBQ1osVUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxFQUFFLEtBQUssVUFBVSxFQUFFO0FBQ2hFLGVBQU8sSUFBSTtPQUNaOztBQUVELFVBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzs7QUFFeEIsYUFBTyxJQUFJO0tBQ1o7OztrQ0FFYyxFQUFFLEVBQUU7QUFDakIsVUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxPQUFPLEVBQUUsS0FBSyxVQUFVLEVBQUU7QUFDMUUsZUFBTyxJQUFJO09BQ1o7O0FBRUQsVUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7O0FBRWxDLGFBQU8sSUFBSTtLQUNaOzs7Ozs7Ozs7OzZCQU9TO0FBQ1IsVUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7QUFDdEMsZUFBTyxJQUFJO09BQ1o7O0FBRUQsVUFBSSxDQUFDLElBQUksRUFBRTs7QUFFWCxXQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDL0MsWUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtPQUNyQjs7QUFFRCxhQUFPLElBQUk7S0FDWjs7OzJCQUVPO0FBQ04sVUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO0FBQ2hCLFlBQUksQ0FBQyxNQUFNLEVBQUU7T0FDZDs7QUFFRCx5QkFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUMxQjs7O1NBL0ZrQixPQUFPOzs7a0JBQVAsT0FBTyIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJBRiBmcm9tICdyYWYnXG5pbXBvcnQgUGFydGljbGVTeXN0ZW0gZnJvbSAnLi9QYXJ0aWNsZVN5c3RlbSdcblxuLyoqXG4gKiBFeHRlbmRlZCBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgUGFydGljbGVTeXN0ZW0gd2l0aCBjb252ZW5pZW5jZSBtZXRob2RzIGZvclxuICogUmVxdWVzdCBBbmltYXRpb24gRnJhbWUuXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGh5c2ljcyBleHRlbmRzIFBhcnRpY2xlU3lzdGVtIHtcblxuICBjb25zdHJ1Y3RvciAoZ3Jhdml0eVgsIGdyYXZpdHlZLCBkcmFnKSB7XG4gICAgc3VwZXIoZ3Jhdml0eVgsIGdyYXZpdHlZLCBkcmFnKVxuXG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2VcblxuICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdXG5cbiAgICB0aGlzLmVxdWlsaWJyaXVtQ2FsbGJhY2tzID0gW11cblxuICAgIHRoaXMubG9vcCgpXG4gIH1cblxuICAvKipcbiAgICogUGxheSB0aGUgYW5pbWF0aW9uIGxvb3AuIERvZXNuJ3QgYWZmZWN0IHdoZXRoZXIgaW4gZXF1aWxpYnJpdW0gb3Igbm90LlxuICAgKi9cbiAgcGxheSAoKSB7XG4gICAgaWYgKHRoaXMucGxheWluZykge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICB0aGlzLnBsYXlpbmcgPSB0cnVlXG4gICAgdGhpcy5lcXVpbGlicml1bSA9IGZhbHNlXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdXNlIHRoZSBhbmltYXRpb24gbG9vcC4gRG9lc24ndCBhZmZlY3Qgd2hldGhlciBpbiBlcXVpbGlicml1bSBvciBub3QuXG4gICAqL1xuICBwYXVzZSAoKSB7XG4gICAgdGhpcy5wbGF5aW5nID0gZmFsc2VcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlIGJldHdlZW4gcGxheWluZyBhbmQgcGF1c2luZyB0aGUgc2ltdWxhdGlvbi5cbiAgICovXG4gIHRvZ2dsZSAoKSB7XG4gICAgaWYgKHRoaXMucGxheWluZykge1xuICAgICAgdGhpcy5wYXVzZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGxheSgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIG9uVXBkYXRlIChjYikge1xuICAgIGlmICh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihjYikgPj0gMCB8fCB0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgdGhpcy5hbmltYXRpb25zLnB1c2goY2IpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgb25FcXVpbGlicml1bSAoY2IpIHtcbiAgICBpZiAodGhpcy5lcXVpbGlicml1bUNhbGxiYWNrcy5pbmRleE9mKGNiKSA+PSAwIHx8IHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICB0aGlzLmVxdWlsaWJyaXVtQ2FsbGJhY2tzLnB1c2goY2IpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgdXBkYXRlIGFmdGVyIHZhbHVlcyBpbiB0aGUgc3lzdGVtIGhhdmUgY2hhbmdlZCBhbmQgdGhpcyB3aWxsIGZpcmVcbiAgICogaXQncyBvd24gUmVxdWVzdCBBbmltYXRpb24gRnJhbWUgdG8gdXBkYXRlIHVudGlsIHRoaW5ncyBoYXZlIHNldHRsZWRcbiAgICogdG8gZXF1aWxpYnJpdW0g4oCUIGF0IHdoaWNoIHBvaW50IHRoZSBzeXN0ZW0gd2lsbCBzdG9wIHVwZGF0aW5nLlxuICAgKi9cbiAgdXBkYXRlICgpIHtcbiAgICBpZiAodGhpcy5vcHRpbWl6ZWQgJiYgdGhpcy5lcXVpbGlicml1bSkge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICB0aGlzLnRpY2soKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uc1tpXSgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGxvb3AgKCkge1xuICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcbiAgICAgIHRoaXMudXBkYXRlKClcbiAgICB9XG5cbiAgICByQUYodGhpcy5sb29wLmJpbmQodGhpcykpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL1BoeXNpY3MuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");
},function(module,exports,__webpack_require__){eval("'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Vector = __webpack_require__(1);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Spring = (function () {\n  function Spring(a, b, k, d, l) {\n    _classCallCheck(this, Spring);\n\n    this.a = a;\n    this.b = b;\n\n    this.constant = k;\n    this.damping = d;\n    this.length = l;\n\n    this.on = true;\n  }\n\n  /**\n   * Returns the distance between particle a and particle b\n   * in 2D space.\n   */\n\n  _createClass(Spring, [{\n    key: 'currentLength',\n    value: function currentLength() {\n      return this.a.position.distanceTo(this.b.position);\n    }\n\n    /**\n     * Update spring logic.\n     */\n\n  }, {\n    key: 'update',\n    value: function update() {\n      var a = this.a;\n      var b = this.b;\n\n      if (!(this.on && (!a.fixed || !b.fixed))) return this;\n\n      var a2b = new _Vector2.default().sub(a.position, b.position);\n      var d = a2b.length();\n\n      if (d === 0) {\n        a2b.clear();\n      } else {\n        a2b.divideScalar(d); // Essentially normalize\n      }\n\n      var fspring = -1 * (d - this.length) * this.constant;\n\n      var va2b = new _Vector2.default().sub(a.velocity, b.velocity);\n\n      var fdamping = -1 * this.damping * va2b.dot(a2b);\n\n      var fr = fspring + fdamping;\n\n      a2b.multiplyScalar(fr);\n\n      if (!a.fixed) {\n        a.force.addSelf(a2b);\n      }\n      if (!b.fixed) {\n        b.force.subSelf(a2b);\n      }\n\n      return this;\n    }\n\n    /**\n     * Returns a boolean describing whether the spring is resting or not.\n     * Convenient for knowing whether or not the spring needs another update\n     * tick.\n     */\n\n  }, {\n    key: 'resting',\n    value: function resting() {\n      var a = this.a;\n      var b = this.b;\n      var l = this.length;\n\n      return !this.on || a.fixed && b.fixed || a.fixed && (l === 0 ? b.position.equals(a.position) : b.position.distanceTo(a.position) <= l) && b.resting() || b.fixed && (l === 0 ? a.position.equals(b.position) : a.position.distanceTo(b.position) <= l) && a.resting();\n    }\n  }]);\n\n  return Spring;\n})();\n\nexports.default = Spring;//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvU3ByaW5nLmpzPzNkZDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztJQUVxQixNQUFNO0FBRXpCLFdBRm1CLE1BQU0sQ0FFWixDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFOzBCQUZULE1BQU07O0FBR3ZCLFFBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUNWLFFBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQzs7QUFFVixRQUFJLENBQUMsUUFBUSxHQUFHLENBQUM7QUFDakIsUUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDO0FBQ2hCLFFBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQzs7QUFFZixRQUFJLENBQUMsRUFBRSxHQUFHLElBQUk7R0FDZjs7Ozs7O0FBQUE7ZUFYa0IsTUFBTTs7b0NBaUJSO0FBQ2YsYUFBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUM7S0FDbkQ7Ozs7Ozs7OzZCQUtTO0FBQ1IsVUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDZCxVQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQzs7QUFFZCxVQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxJQUFJOztBQUVyRCxVQUFJLEdBQUcsR0FBRyxzQkFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDbEQsVUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRTs7QUFFcEIsVUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ1gsV0FBRyxDQUFDLEtBQUssRUFBRTtPQUNaLE1BQU07QUFDTCxXQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztBQUFBLE9BQ3BCOztBQUVELFVBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVE7O0FBRXBELFVBQUksSUFBSSxHQUFHLHNCQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQzs7QUFFbkQsVUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQzs7QUFFaEQsVUFBSSxFQUFFLEdBQUcsT0FBTyxHQUFHLFFBQVE7O0FBRTNCLFNBQUcsQ0FBQyxjQUFjLENBQUMsRUFBRSxDQUFDOztBQUV0QixVQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRTtBQUNaLFNBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztPQUNyQjtBQUNELFVBQUksQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFO0FBQ1osU0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO09BQ3JCOztBQUVELGFBQU8sSUFBSTtLQUNaOzs7Ozs7Ozs7OzhCQU9VO0FBQ1QsVUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDZCxVQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUNkLFVBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNOztBQUVuQixhQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxLQUFNLElBQ3BDLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQUcsSUFDN0csQ0FBQyxDQUFDLEtBQUssS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sRUFBRztLQUNqSDs7O1NBeEVrQixNQUFNOzs7a0JBQU4sTUFBTSIsImZpbGUiOiI4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZlY3RvciBmcm9tICcuL1ZlY3RvcidcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaW5nIHtcblxuICBjb25zdHJ1Y3RvciAoYSwgYiwgaywgZCwgbCkge1xuICAgIHRoaXMuYSA9IGFcbiAgICB0aGlzLmIgPSBiXG5cbiAgICB0aGlzLmNvbnN0YW50ID0ga1xuICAgIHRoaXMuZGFtcGluZyA9IGRcbiAgICB0aGlzLmxlbmd0aCA9IGxcblxuICAgIHRoaXMub24gPSB0cnVlXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGlzdGFuY2UgYmV0d2VlbiBwYXJ0aWNsZSBhIGFuZCBwYXJ0aWNsZSBiXG4gICAqIGluIDJEIHNwYWNlLlxuICAgKi9cbiAgY3VycmVudExlbmd0aCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYS5wb3NpdGlvbi5kaXN0YW5jZVRvKHRoaXMuYi5wb3NpdGlvbilcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgc3ByaW5nIGxvZ2ljLlxuICAgKi9cbiAgdXBkYXRlICgpIHtcbiAgICB2YXIgYSA9IHRoaXMuYVxuICAgIHZhciBiID0gdGhpcy5iXG5cbiAgICBpZiAoISh0aGlzLm9uICYmICghYS5maXhlZCB8fCAhYi5maXhlZCkpKSByZXR1cm4gdGhpc1xuXG4gICAgdmFyIGEyYiA9IG5ldyBWZWN0b3IoKS5zdWIoYS5wb3NpdGlvbiwgYi5wb3NpdGlvbilcbiAgICB2YXIgZCA9IGEyYi5sZW5ndGgoKVxuXG4gICAgaWYgKGQgPT09IDApIHtcbiAgICAgIGEyYi5jbGVhcigpXG4gICAgfSBlbHNlIHtcbiAgICAgIGEyYi5kaXZpZGVTY2FsYXIoZCkgIC8vIEVzc2VudGlhbGx5IG5vcm1hbGl6ZVxuICAgIH1cblxuICAgIHZhciBmc3ByaW5nID0gLTEgKiAoZCAtIHRoaXMubGVuZ3RoKSAqIHRoaXMuY29uc3RhbnRcblxuICAgIHZhciB2YTJiID0gbmV3IFZlY3RvcigpLnN1YihhLnZlbG9jaXR5LCBiLnZlbG9jaXR5KVxuXG4gICAgdmFyIGZkYW1waW5nID0gLTEgKiB0aGlzLmRhbXBpbmcgKiB2YTJiLmRvdChhMmIpXG5cbiAgICB2YXIgZnIgPSBmc3ByaW5nICsgZmRhbXBpbmdcblxuICAgIGEyYi5tdWx0aXBseVNjYWxhcihmcilcblxuICAgIGlmICghYS5maXhlZCkge1xuICAgICAgYS5mb3JjZS5hZGRTZWxmKGEyYilcbiAgICB9XG4gICAgaWYgKCFiLmZpeGVkKSB7XG4gICAgICBiLmZvcmNlLnN1YlNlbGYoYTJiKVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGJvb2xlYW4gZGVzY3JpYmluZyB3aGV0aGVyIHRoZSBzcHJpbmcgaXMgcmVzdGluZyBvciBub3QuXG4gICAqIENvbnZlbmllbnQgZm9yIGtub3dpbmcgd2hldGhlciBvciBub3QgdGhlIHNwcmluZyBuZWVkcyBhbm90aGVyIHVwZGF0ZVxuICAgKiB0aWNrLlxuICAgKi9cbiAgcmVzdGluZyAoKSB7XG4gICAgdmFyIGEgPSB0aGlzLmFcbiAgICB2YXIgYiA9IHRoaXMuYlxuICAgIHZhciBsID0gdGhpcy5sZW5ndGhcblxuICAgIHJldHVybiAhdGhpcy5vbiB8fCAoYS5maXhlZCAmJiBiLmZpeGVkKSB8fFxuICAgICAgKGEuZml4ZWQgJiYgKGwgPT09IDAgPyBiLnBvc2l0aW9uLmVxdWFscyhhLnBvc2l0aW9uKSA6IGIucG9zaXRpb24uZGlzdGFuY2VUbyhhLnBvc2l0aW9uKSA8PSBsKSAmJiBiLnJlc3RpbmcoKSkgfHxcbiAgICAgIChiLmZpeGVkICYmIChsID09PSAwID8gYS5wb3NpdGlvbi5lcXVhbHMoYi5wb3NpdGlvbikgOiBhLnBvc2l0aW9uLmRpc3RhbmNlVG8oYi5wb3NpdGlvbikgPD0gbCkgJiYgYS5yZXN0aW5nKCkpXG4gIH1cblxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvU3ByaW5nLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==")},function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.isNumeric = isNumeric;\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvaW5kZXguanM/ZDMxMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztRQUFnQixTQUFTLEdBQVQsU0FBUztBQUFsQixTQUFTLFNBQVMsQ0FBRSxDQUFDLEVBQUU7QUFDNUIsU0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6IjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNOdW1lcmljIChuKSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobilcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3V0aWxzL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==')},function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(process) {// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== "undefined" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== "undefined" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(11)))//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3BlcmZvcm1hbmNlLW5vdy9saWIvcGVyZm9ybWFuY2Utbm93LmpzP2I4YTMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsImZpbGUiOiIxMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS43LjFcbihmdW5jdGlvbigpIHtcbiAgdmFyIGdldE5hbm9TZWNvbmRzLCBocnRpbWUsIGxvYWRUaW1lO1xuXG4gIGlmICgodHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsKSAmJiBwZXJmb3JtYW5jZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoKHR5cGVvZiBwcm9jZXNzICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MgIT09IG51bGwpICYmIHByb2Nlc3MuaHJ0aW1lKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAoZ2V0TmFub1NlY29uZHMoKSAtIGxvYWRUaW1lKSAvIDFlNjtcbiAgICB9O1xuICAgIGhydGltZSA9IHByb2Nlc3MuaHJ0aW1lO1xuICAgIGdldE5hbm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaHI7XG4gICAgICBociA9IGhydGltZSgpO1xuICAgICAgcmV0dXJuIGhyWzBdICogMWU5ICsgaHJbMV07XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IGdldE5hbm9TZWNvbmRzKCk7XG4gIH0gZWxzZSBpZiAoRGF0ZS5ub3cpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIERhdGUubm93KCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gRGF0ZS5ub3coKTtcbiAgfSBlbHNlIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbG9hZFRpbWU7XG4gICAgfTtcbiAgICBsb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9XG5cbn0pLmNhbGwodGhpcyk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9')},function(module,exports){eval("// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = setTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    clearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3Byb2Nlc3MvYnJvd3Nlci5qcz84MmU0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsc0JBQXNCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFVBQVUiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgc2V0VGltZW91dChkcmFpblF1ZXVlLCAwKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Byb2Nlc3MvYnJvd3Nlci5qc1xuICoqIG1vZHVsZSBpZCA9IDExXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9")},function(module,exports,__webpack_require__){eval("var now = __webpack_require__(10)\n  , global = typeof window === 'undefined' ? {} : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = global['request' + suffix]\n  , caf = global['cancel' + suffix] || global['cancelRequest' + suffix]\n\nfor(var i = 0; i < vendors.length && !raf; i++) {\n  raf = global[vendors[i] + 'Request' + suffix]\n  caf = global[vendors[i] + 'Cancel' + suffix]\n      || global[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(global, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(global, arguments)\n}\n//@ sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L3JhZi9pbmRleC5qcz8wMTE3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsNEJBQTRCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGVBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHFDQUFxQyxVQUFVO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0Isa0JBQWtCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCBnbG9iYWwgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyA/IHt9IDogd2luZG93XG4gICwgdmVuZG9ycyA9IFsnbW96JywgJ3dlYmtpdCddXG4gICwgc3VmZml4ID0gJ0FuaW1hdGlvbkZyYW1lJ1xuICAsIHJhZiA9IGdsb2JhbFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gZ2xvYmFsWydjYW5jZWwnICsgc3VmZml4XSB8fCBnbG9iYWxbJ2NhbmNlbFJlcXVlc3QnICsgc3VmZml4XVxuXG5mb3IodmFyIGkgPSAwOyBpIDwgdmVuZG9ycy5sZW5ndGggJiYgIXJhZjsgaSsrKSB7XG4gIHJhZiA9IGdsb2JhbFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSBnbG9iYWxbdmVuZG9yc1tpXSArICdDYW5jZWwnICsgc3VmZml4XVxuICAgICAgfHwgZ2xvYmFsW3ZlbmRvcnNbaV0gKyAnQ2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG59XG5cbi8vIFNvbWUgdmVyc2lvbnMgb2YgRkYgaGF2ZSByQUYgYnV0IG5vdCBjQUZcbmlmKCFyYWYgfHwgIWNhZikge1xuICB2YXIgbGFzdCA9IDBcbiAgICAsIGlkID0gMFxuICAgICwgcXVldWUgPSBbXVxuICAgICwgZnJhbWVEdXJhdGlvbiA9IDEwMDAgLyA2MFxuXG4gIHJhZiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgaWYocXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICB2YXIgX25vdyA9IG5vdygpXG4gICAgICAgICwgbmV4dCA9IE1hdGgubWF4KDAsIGZyYW1lRHVyYXRpb24gLSAoX25vdyAtIGxhc3QpKVxuICAgICAgbGFzdCA9IG5leHQgKyBfbm93XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3AgPSBxdWV1ZS5zbGljZSgwKVxuICAgICAgICAvLyBDbGVhciBxdWV1ZSBoZXJlIHRvIHByZXZlbnRcbiAgICAgICAgLy8gY2FsbGJhY2tzIGZyb20gYXBwZW5kaW5nIGxpc3RlbmVyc1xuICAgICAgICAvLyB0byB0aGUgY3VycmVudCBmcmFtZSdzIHF1ZXVlXG4gICAgICAgIHF1ZXVlLmxlbmd0aCA9IDBcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYoIWNwW2ldLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICBjcFtpXS5jYWxsYmFjayhsYXN0KVxuICAgICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHRocm93IGUgfSwgMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIE1hdGgucm91bmQobmV4dCkpXG4gICAgfVxuICAgIHF1ZXVlLnB1c2goe1xuICAgICAgaGFuZGxlOiArK2lkLFxuICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgY2FuY2VsbGVkOiBmYWxzZVxuICAgIH0pXG4gICAgcmV0dXJuIGlkXG4gIH1cblxuICBjYWYgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmKHF1ZXVlW2ldLmhhbmRsZSA9PT0gaGFuZGxlKSB7XG4gICAgICAgIHF1ZXVlW2ldLmNhbmNlbGxlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbikge1xuICAvLyBXcmFwIGluIGEgbmV3IGZ1bmN0aW9uIHRvIHByZXZlbnRcbiAgLy8gYGNhbmNlbGAgcG90ZW50aWFsbHkgYmVpbmcgYXNzaWduZWRcbiAgLy8gdG8gdGhlIG5hdGl2ZSByQUYgZnVuY3Rpb25cbiAgcmV0dXJuIHJhZi5jYWxsKGdsb2JhbCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KGdsb2JhbCwgYXJndW1lbnRzKVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vcmFmL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=")}])});